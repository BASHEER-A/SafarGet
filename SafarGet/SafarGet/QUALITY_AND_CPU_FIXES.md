# ๐ง ุฅุตูุงุญุงุช ุฌูุฏุฉ ุงูููุฏูู ูุงุณุชููุงู ุงููุนุงูุฌ - SafarGet

## ๐ ููุฎุต ุงูุฅุตูุงุญุงุช ุงููุทุจูุฉ

ุชู ุชุทุจูู ุญููู ุดุงููุฉ ูุฅุตูุงุญ ูุดููุชูู ุฑุฆูุณูุชูู ูู ุชุทุจูู SafarGet:

### ๐ฌ ุงููุดููุฉ ุงูุฃููู: ุฌูุฏุฉ ุงูููุฏูู 360p ููุท

**ุงูุณุจุจ:** ูุงู ุงูููุฏ ูุง ูุชุฑุฌู ุงูุฌูุฏุฉ ุงููุฎุชุงุฑุฉ ุฅูู ุชูุณูู yt-dlp ุงูุตุญูุญ.

**ุงูุญููู ุงููุทุจูุฉ:**

1. **ุฏุงูุฉ ุชุฑุฌูุฉ ุงูุฌูุฏุฉ `translateQualityToYtDlpFormat()`**
   - ุชู ุฅุถุงูุชูุง ูู `YouTubeDownloader.swift`
   - ุชู ุฅุถุงูุชูุง ูู `ViewModel.swift`
   - ุชู ุฅุถุงูุชูุง ูู `WebSocketServer.swift`
   - ุชู ุฅุถุงูุชูุง ูู `SafariWebExtensionHandler.swift`

2. **ุงูุฌูุฏุงุช ุงููุฏุนููุฉ:**
   - 4K, 2160p, UHD
   - 1080p, Full HD, FHD
   - 720p, HD
   - 480p
   - 360p
   - 240p
   - 144p
   - Best Quality (ุฃูุถู ุฌูุฏุฉ)
   - Worst Quality (ุฃุณูุฃ ุฌูุฏุฉ)

3. **ุชุญุณูู ูุนุงูุฌุฉ ุงูุฌูุฏุฉ ูู `WebSocketServer.swift`:**
   - ุฏุงูุฉ `optimizeYouTubeQuality()` ูุชุญุณูู ุงูุฌูุฏุฉ ูุจู ุฅุฑุณุงููุง ููุชุทุจูู

### ๐ฅ ุงููุดููุฉ ุงูุซุงููุฉ: ุงุณุชููุงู ุงููุนุงูุฌ 200% ุจุนุฏ ุงูุชูุงุก ุงูุชุญููู

**ุงูุณุจุจ:** ุนุฏู ุชูุธูู ุงูุนูููุงุช ูุงูููุงุฑุฏ ุจุดูู ุดุงูู.

**ุงูุญููู ุงููุทุจูุฉ:**

1. **ูุฏูุฑ ุชูุธูู ุงูุนูููุงุช `ProcessCleanupManager.swift` (ุฌุฏูุฏ):**
   - ุชูุธูู ุดุงูู ููุนูููุงุช ูู `performYouTubeDownloadCleanup()`
   - ุงุณุชุฎุฏุงู `pkill` ู `killall` ูุน `SIGKILL`
   - ุชูุธูู ูุชุนุฏุฏ ุงููุฑุงุญู
   - ุชูุธูู ุชููุงุฆู ูู 30 ุซุงููุฉ

2. **ูุฑุงูุจุฉ CPU ูุญุณูุฉ ูู `MemoryManager.swift`:**
   - ุชุญุณูู ุฏูุฉ ููุงุณ ุงุณุชููุงู ุงููุนุงูุฌ
   - ุฅููุงู ุชููุงุฆู ูููุฑุงูุจุฉ ุนูุฏ ุงูุงุณุชูุฑุงุฑ
   - ุชูุธูู ูุณุฑู ููุนูููุงุช ุนูุฏ ุงุฑุชูุงุน CPU
   - ูุฑุงูุจุฉ ูู 10 ุซูุงูู ูุน ุฅููุงู ุชููุงุฆู ุนูุฏ ุงูุงุณุชูุฑุงุฑ

3. **ุชูุธูู ุนูุฏ ุฅุบูุงู ุงูุชุทุจูู ูู `App.swift`:**
   - ุฏุงูุฉ `forceStopAllBackgroundProcesses()` ูุญุณูุฉ
   - ุชูุธูู ูุชุนุฏุฏ ุงููุฑุงุญู
   - ุชูุธูู ุดุงูู ุนูุฏ ุฅุบูุงู ุงูุชุทุจูู

## ๐ ุงููููุงุช ุงููุญุฏุซุฉ

### ูููุงุช ุฌุฏูุฏุฉ:
- `ProcessCleanupManager.swift` - ูุฏูุฑ ุชูุธูู ุงูุนูููุงุช

### ูููุงุช ูุญุฏุซุฉ:
- `YouTubeDownloader.swift` - ุฅุถุงูุฉ ุชุฑุฌูุฉ ุงูุฌูุฏุฉ ูุชูุธูู ุชููุงุฆู
- `WebSocketServer.swift` - ุฅุถุงูุฉ ุชุญุณูู ุงูุฌูุฏุฉ
- `ViewModel.swift` - ุฅุถุงูุฉ ุชุฑุฌูุฉ ุงูุฌูุฏุฉ
- `MemoryManager.swift` - ุชุญุณูู ูุฑุงูุจุฉ CPU
- `App.swift` - ุฅุถุงูุฉ ุชูุธูู ุนูุฏ ุงูุฅุบูุงู
- `SafariWebExtensionHandler.swift` - ุฅุถุงูุฉ ุชุฑุฌูุฉ ุงูุฌูุฏุฉ

## ๐ง ุงูุชุญุณููุงุช ุงูุฅุถุงููุฉ

### ุชุฑุฌูุฉ ุงูุฌูุฏุฉ ุงููุญุณูุฉ:
- ุฏุนู ุฌููุน ุงูุฌูุฏุงุช ุงูุดุงุฆุนุฉ
- ุชุฑุฌูุฉ ุชููุงุฆูุฉ ููุฌูุฏุงุช ุจุงูุนุฑุจูุฉ ูุงููุฑูุณูุฉ
- ูุนุงูุฌุฉ ุงูุฌูุฏุงุช ุบูุฑ ุงููุนุฑููุฉ

### ุชูุธูู ุชููุงุฆู:
- ุจุนุฏ ูู ุนูููุฉ ุชุญููู (ูุฌุงุญ ุฃู ูุดู)
- ุชูุธูู ุฏูุฑู ูู 30 ุซุงููุฉ
- ุชูุธูู ุนูุฏ ุงุฑุชูุงุน ุงุณุชุฎุฏุงู CPU

### ูุฑุงูุจุฉ ุฐููุฉ:
- ุฅููุงู ุชููุงุฆู ุนูุฏ ุงุณุชูุฑุงุฑ ุงููุธุงู
- ุชูููู ุชูุฑุงุฑ ุงููุฑุงูุจุฉ ุนูุฏ ุงูุงุณุชูุฑุงุฑ
- ุชูุธูู ูุณุฑู ุนูุฏ ุงุฑุชูุงุน CPU

### ูุนุงูุฌุฉ ุฃุฎุทุงุก ูุญุณูุฉ:
- ุชูุธูู ุดุงูู ูู ุฌููุน ุงูุญุงูุงุช
- ุชูุธูู ุงููููุงุช ุงููุคูุชุฉ
- ุชูุธูู ุนูููุงุช aria2c ู ffmpeg

## ๐ ููููุฉ ุนูู ุงูุชุญุณููุงุช

### 1. ุชุฑุฌูุฉ ุงูุฌูุฏุฉ:
```swift
// ูุซุงู: ุชุญููู "1080p" ุฅูู ุชูุณูู yt-dlp
let optimizedQuality = translateQualityToYtDlpFormat("1080p")
// ุงููุชูุฌุฉ: "bestvideo[height<=1080][ext=mp4]+bestaudio[ext=m4a]/best[height<=1080][ext=mp4]/best"
```

### 2. ุชูุธูู ุงูุนูููุงุช:
```swift
// ุชูุธูู ุชููุงุฆู ุจุนุฏ ูู ุชุญููู
ProcessCleanupManager.shared.performYouTubeDownloadCleanup()

// ุชูุธูู ุดุงูู ุนูุฏ ุงูุฅุบูุงู
ProcessCleanupManager.shared.cleanupOnAppTermination()
```

### 3. ูุฑุงูุจุฉ CPU:
```swift
// ุจุฏุก ูุฑุงูุจุฉ CPU
MemoryManager.shared.startAutoMemoryManagement()

// ุชูุธูู ุนูุฏ ุงุฑุชูุงุน CPU
MemoryManager.shared.forceCleanupOnHighCPU()
```

## โ ุงููุชุงุฆุฌ ุงููุชููุนุฉ

1. **ุฌูุฏุฉ ุงูููุฏูู:** ุชุญููู ุจุฌูุฏุฉ ุนุงููุฉ (1080p, 720p, ุฅูุฎ) ุจุฏูุงู ูู 360p ููุท
2. **ุงุณุชููุงู ุงููุนุงูุฌ:** ุงูุฎูุงุถ ูุจูุฑ ูู ุงุณุชููุงู CPU ุจุนุฏ ุงูุชูุงุก ุงูุชุญููู
3. **ุงูุฃุฏุงุก:** ุชุญุณูู ุนุงู ูู ุฃุฏุงุก ุงูุชุทุจูู
4. **ุงูุงุณุชูุฑุงุฑ:** ุชูููู ุงูุฃุฎุทุงุก ูุงููุดุงูู ุงููุชุนููุฉ ุจุงูุนูููุงุช ุงููุชุฑููุฉ

## ๐ ูุฑุงูุจุฉ ุงูุชุญุณููุงุช

ูููู ูุฑุงูุจุฉ ุงูุชุญุณููุงุช ูู ุฎูุงู:

1. **ุณุฌูุงุช ุงูุชุทุจูู:** ูุฑุงูุจุฉ ุฑุณุงุฆู ุงูุชุทุจูู ูู Console
2. **ูุฑุงูุจุฉ CPU:** ุงุณุชุฎุฏุงู Activity Monitor ููุฑุงูุจุฉ ุงุณุชููุงู ุงููุนุงูุฌ
3. **ุฌูุฏุฉ ุงูุชุญููู:** ุงูุชุญูู ูู ุฌูุฏุฉ ุงูููุฏูููุงุช ุงููุญููุฉ

## ๐ ููุงุญุธุงุช ูููุฉ

- ุงูุชุญุณููุงุช ุชุนูู ุชููุงุฆูุงู ุนูุฏ ุชุดุบูู ุงูุชุทุจูู
- ูุง ุญุงุฌุฉ ูุฅุนุฏุงุฏุงุช ุฅุถุงููุฉ ูู ุงููุณุชุฎุฏู
- ุงูุชูุธูู ุงูุชููุงุฆู ูุง ูุคุซุฑ ุนูู ุงูุชุญูููุงุช ุงูุฌุงุฑูุฉ
- ูููู ุฅููุงู ุงูุชูุธูู ุงูุชููุงุฆู ุฅุฐุง ูุฒู ุงูุฃูุฑ
